# Copy to .env.compose.postgres for Docker Compose postgres profile.
# This profile runs a postgres service plus web/worker/db-init.

RAILS_ENV=production
PORT=3000
RAILS_MAX_THREADS=5
JOB_CONCURRENCY=1
RAILS_LOG_LEVEL=info

# Required in production mode.
# Generate with: bin/rails secret
SECRET_KEY_BASE=replace-with-a-long-random-secret

# Postgres container bootstrap credentials.
# Used by the postgres service itself (maintenance DB and admin user).
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=postgres

# Cullarr production database URLs (strict group).
# All four are required together and must be unique.
PRODUCTION_DATABASE_URL=postgresql://postgres:postgres@postgres:5432/cullarr_production
PRODUCTION_CACHE_DATABASE_URL=postgresql://postgres:postgres@postgres:5432/cullarr_cache_production
PRODUCTION_QUEUE_DATABASE_URL=postgresql://postgres:postgres@postgres:5432/cullarr_queue_production
PRODUCTION_CABLE_DATABASE_URL=postgresql://postgres:postgres@postgres:5432/cullarr_cable_production

# Delete mode gate (keep disabled unless intentionally needed).
CULLARR_DELETE_MODE_ENABLED=false
# CULLARR_DELETE_MODE_SECRET=replace-with-delete-mode-secret

# Active Record encryption keys (required in production).
# Generate with: bin/rails db:encryption:init
ACTIVE_RECORD_ENCRYPTION_PRIMARY_KEYS=replace-with-primary-key
ACTIVE_RECORD_ENCRYPTION_DETERMINISTIC_KEY=replace-with-deterministic-key
ACTIVE_RECORD_ENCRYPTION_KEY_DERIVATION_SALT=replace-with-derivation-salt

# Optional integration allow policy.
# CULLARR_ALLOWED_INTEGRATION_HOSTS=sonarr.local,radarr.local,tautulli.local
# CULLARR_ALLOWED_INTEGRATION_NETWORK_RANGES=192.168.1.0/24,10.0.0.0/24
