# Copy to .env for local development:
#   cp .env.example .env
#
# Foreman (bin/dev) reads .env automatically.
# dotenv-rails also loads .env for bin/rails and bundle exec commands in development/test.

# ------------------------------------------------------------
# App runtime
# ------------------------------------------------------------
# Web server port for bin/dev and bin/rails server.
PORT=3000

# Thread pool size used by Active Record pool defaults.
RAILS_MAX_THREADS=5

# Solid Queue worker process count (config/queue.yml).
JOB_CONCURRENCY=1

# Optional production log level override (used in production env).
# RAILS_LOG_LEVEL=info

# Optional: disable startup stale-sync recovery logic.
# DISABLE_SYNC_STARTUP_RECOVERY=1

# ------------------------------------------------------------
# Database mode switch (strict)
# ------------------------------------------------------------
# SQLite mode (default): leave all DB URL variables fully unset/commented out.
#
# IMPORTANT: do not set DB URL keys to empty strings. For example, this is invalid:
#   DATABASE_URL=
#
# Postgres mode is strict:
# - If any URL in a group is present, all 4 URLs in that group must be non-blank.
# - All configured URLs must be unique across all roles and environments.
#
# Development group:
#   DATABASE_URL
#   CACHE_DATABASE_URL
#   QUEUE_DATABASE_URL
#   CABLE_DATABASE_URL
#
# Test group:
#   TEST_DATABASE_URL
#   TEST_CACHE_DATABASE_URL
#   TEST_QUEUE_DATABASE_URL
#   TEST_CABLE_DATABASE_URL
#
# Production group:
#   PRODUCTION_DATABASE_URL
#   PRODUCTION_CACHE_DATABASE_URL
#   PRODUCTION_QUEUE_DATABASE_URL
#   PRODUCTION_CABLE_DATABASE_URL

# Development Postgres examples:
# DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/cullarr_development
# CACHE_DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/cullarr_cache_development
# QUEUE_DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/cullarr_queue_development
# CABLE_DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/cullarr_cable_development

# Test Postgres examples:
# TEST_DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/cullarr_test
# TEST_CACHE_DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/cullarr_cache_test
# TEST_QUEUE_DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/cullarr_queue_test
# TEST_CABLE_DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/cullarr_cable_test

# Production Postgres examples:
# PRODUCTION_DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/cullarr_production
# PRODUCTION_CACHE_DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/cullarr_cache_production
# PRODUCTION_QUEUE_DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/cullarr_queue_production
# PRODUCTION_CABLE_DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/cullarr_cable_production

# ------------------------------------------------------------
# Deletion mode gate
# ------------------------------------------------------------
# Keep disabled unless you intentionally need deletion execution.
CULLARR_DELETE_MODE_ENABLED=false

# Secret used for delete unlock token validation.
# Required only when delete mode is enabled.
# CULLARR_DELETE_MODE_SECRET=replace-with-delete-mode-secret

# ------------------------------------------------------------
# Active Record encryption keys
# ------------------------------------------------------------
# Integration API keys are encrypted at rest.
# Production requires all three variables below.
#
# Generate starter values with:
#   bin/rails db:encryption:init

# Comma-separated key ring, oldest first, active key last.
# ACTIVE_RECORD_ENCRYPTION_PRIMARY_KEYS=

# Deterministic key.
# ACTIVE_RECORD_ENCRYPTION_DETERMINISTIC_KEY=

# Key derivation salt.
# ACTIVE_RECORD_ENCRYPTION_KEY_DERIVATION_SALT=

# ------------------------------------------------------------
# Integration and image network policy
# ------------------------------------------------------------
# When both integration allowlists are unset, base URL validation is permissive.
# If either is set, integration hosts must match configured policy.

# Host pattern allowlist (wildcards supported):
# CULLARR_ALLOWED_INTEGRATION_HOSTS=sonarr.local,radarr.local,tautulli.local
# CULLARR_ALLOWED_INTEGRATION_HOSTS=*.local,sonarr-*,*

# CIDR allowlist:
# CULLARR_ALLOWED_INTEGRATION_NETWORK_RANGES=192.168.1.0/24,10.0.0.0/24

# Optional override for image proxy host allowlist.
# CULLARR_IMAGE_PROXY_ALLOWED_HOSTS=image.tmdb.org,assets.example.com
