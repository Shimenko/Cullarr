# Copy this file to .env for local development.
# Foreman (bin/dev) reads .env automatically.
# With dotenv-rails, bin/rails and bundle exec commands also read .env in development/test.

# -----------------------------
# App runtime
# -----------------------------
PORT=3000
RAILS_MAX_THREADS=5
JOB_CONCURRENCY=1

# -----------------------------
# Database mode switch (strict)
# -----------------------------
# SQLite mode (default): leave all DB URL variables empty/unset.
# Important: do NOT set DB URL vars to empty strings (for example DATABASE_URL=).
# Keep them fully commented out/unset in SQLite mode.
# Postgres mode (strict): if any URL in a group is set, ALL role URLs in that group are required.
# Development group: DATABASE_URL, CACHE_DATABASE_URL, QUEUE_DATABASE_URL, CABLE_DATABASE_URL
# Test group: TEST_DATABASE_URL, TEST_CACHE_DATABASE_URL, TEST_QUEUE_DATABASE_URL, TEST_CABLE_DATABASE_URL
# Production group: PRODUCTION_DATABASE_URL, PRODUCTION_CACHE_DATABASE_URL,
#                   PRODUCTION_QUEUE_DATABASE_URL, PRODUCTION_CABLE_DATABASE_URL
# Additional rule: configured URLs must be unique (no DB sharing across roles/environments).

# Primary DB URL (development)
# DATABASE_URL=

# Required role-specific DB URLs when development Postgres mode is enabled
# CACHE_DATABASE_URL=
# QUEUE_DATABASE_URL=
# CABLE_DATABASE_URL=

# -----------------------------
# Test database isolation
# -----------------------------
# Required test role URLs when test Postgres mode is enabled.
# Test does not fall back to development/global DB URLs.
# TEST_DATABASE_URL=postgresql://localhost/cullarr_test
# TEST_CACHE_DATABASE_URL=postgresql://localhost/cullarr_cache_test
# TEST_QUEUE_DATABASE_URL=postgresql://localhost/cullarr_queue_test
# TEST_CABLE_DATABASE_URL=postgresql://localhost/cullarr_cable_test

# -----------------------------
# Production database isolation
# -----------------------------
# Production has its own DB URL group and should not reuse development/test URLs.
# PRODUCTION_DATABASE_URL=postgresql://localhost/cullarr_production
# PRODUCTION_CACHE_DATABASE_URL=postgresql://localhost/cullarr_cache_production
# PRODUCTION_QUEUE_DATABASE_URL=postgresql://localhost/cullarr_queue_production
# PRODUCTION_CABLE_DATABASE_URL=postgresql://localhost/cullarr_cable_production

# -----------------------------
# Future  settings (not yet enforced in app behavior)
# -----------------------------
# CULLARR_DELETE_MODE_ENABLED=false
# CULLARR_DELETE_MODE_SECRET=
